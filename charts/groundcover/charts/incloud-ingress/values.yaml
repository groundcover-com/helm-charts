kong-crds:
  upgradeCRDs: true
  image:
    repository: public.ecr.aws/groundcovercom/bitnami/kubectl

kong:
  replicaCount: 2
  image:
    tag: 3.4.2
    repository: public.ecr.aws/groundcovercom/kong
  env:
    anonymous_reports: "off"
    dump_config: "true"
    headers: "off"
    mem_cache_size: "256m"
    upstream_keepalive_max_requests: "0"
    nginx_http_client_body_buffer_size: "10m"
    nginx_mem_cache_size: "256m"
  proxy:
    http:
      enabled: false
    tls:
      enabled: true
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: nlb
      service.beta.kubernetes.io/aws-load-balancer-scheme: internet-facing
  topologySpreadConstraints:
    - maxSkew: 1
      topologyKey: kubernetes.io/hostname
      whenUnsatisfiable: ScheduleAnyway
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: kong
    - maxSkew: 1
      topologyKey: topology.kubernetes.io/zone
      whenUnsatisfiable: ScheduleAnyway
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: kong

## Kong Plugins for inCloud functionality
datasource:
  enabled: false
